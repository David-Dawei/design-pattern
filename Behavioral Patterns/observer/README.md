# Observer Pattern
Observer Pattern是在大型系统开发过程中经常要用到的模式之一。在微软的MFC中，Doc/View（文档视图结构）提供了实现MVC的框架结构（有一个从设计模式（Observer模式）的角度分析分析Doc/View的文章正在进一步的撰写当中，遗憾的是时间：））。在J2EE中，Struts则提供和MFC中Doc/View结构类似的实现MVC的框架。另外，Java语言本身也提供了Observer模式的实现接口：通过专门的类Observable及Observer接口来实现MVC编程模式。
MVC模式只是Observer模式的一个实例。Observer模式要解决的问题为：`建立一个一（Subject）对多（Observer）的依赖关系，并且做到当“一”变化的时候，依赖这个“一”的多也能够同步改变`。最常见的一个例子就是：对同一组数据进行统计分析时候，希望能够提供多种形式的表示（例如以表格进行统计显示、柱状图统计显示、百分比统计显示等）。这些表示都依赖于同一组数据，我们当然需要当数据改变的时候，所有的统计的显示都能够同时改变。Observer模式就可以解决这一问题。
在具体实现时，目标Subject提供依赖于它的观察者Observer的注册（Attach）和注销（Detach）操作，并且提供了使得依赖于它的所有观察者同步的操作（Notify）。观察者Observer则提供一个Update操作。这里的Observer的Update操作并不在Observer改变了Subject目标状态的时候就对自己进行更新，`这个更新操作要延迟到Subject对象发出Notify通知所有Observer进行修改（调用Update）`。
Observer模式定义了对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。当一个对象发生了变化，关注它的对象就会得到通知；这种交互也称为`发布-订阅(publish-subscribe)`。目标是通知的发布者，它发出通知时并不需要知道谁是它的观察者。
观察者模式适用于以下情形：
- 当一个抽象模型有两个方面，其中一个方面依赖于另一方面。将这二者封装在独立的对象中以使它们可以各自独立的改变和复用；
- 当对一个对象的改变需要同时改变其它对象，而不知道具体有多少对象有待改变；
- 当一个对象必须通知其它对象，而它又不能假定其它对象是谁，即不希望这些对象是紧密耦合的。
